{"version":3,"sources":["components/PersonsList.jsx","components/Filter.jsx","components/Form.jsx","services/personService.jsx","components/NotificationSuccess.jsx","components/NotificationError.jsx","App.js","index.js"],"names":["PersonsList","filter","persons","deletePerson","filteredNames","map","e","name","toUpperCase","includes","push","key","id","number","onClick","Filter","handleFilterChange","value","onChange","Form","handleNameChange","handleNumberChange","newName","newNumber","addPerson","onSubmit","type","baseURL","console","log","axios","get","then","response","data","newPerson","post","person","delete","put","catch","error","NotificationSuccess","successMessage","className","NotificationError","errorMessage","App","useState","setPersons","setNewName","setNewNumber","setFilter","setSuccessMessage","setErrorMessage","useEffect","personService","initialPersons","target","preventDefault","some","find","window","confirm","returnedPerson","undefined","setTimeout","returnedPersons","updatePersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c830aa69.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonsList = ({ filter, persons, deletePerson }) => {\r\n  const filteredNames = []\r\n  persons.map(function (e) {\r\n    if (e.name.toUpperCase().includes(filter.toUpperCase())) {\r\n      filteredNames.push(e)\r\n    }\r\n    return null\r\n  })\r\n\r\n  return (\r\n    (filter) ?\r\n      <div>\r\n        <ul>\r\n          {filteredNames.map((e) => {\r\n            return (\r\n              <div key={e.id}>\r\n                <li>{e.name} - {e.number}</li>\r\n                <button onClick={() => deletePerson(e)}>Delete</button>\r\n              </div>\r\n            )\r\n          })\r\n          }\r\n        </ul>\r\n      </div>\r\n      :\r\n      <div>\r\n        <ul>\r\n          {persons.map((e) => {\r\n            return (\r\n              <div key={e.id}>\r\n                <li >{e.name} - {e.number}</li>\r\n                <button onClick={() => deletePerson(e)}>Delete</button>\r\n              </div>\r\n            )\r\n          })\r\n          }\r\n        </ul>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default PersonsList","import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown: <input value={filter} onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Form = ({handleNameChange, handleNumberChange, newName, newNumber, addPerson}) => {\r\n\r\n    return (\r\n        \r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n              name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n              number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    console.log('getAllPersons runs')\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    console.log('newperson:', newPerson)\r\n    const request = axios.post(baseURL, newPerson)\r\n    return request.then(response => {\r\n        console.log('create response :', response)\r\n        return response.data\r\n    // axios.post(baseURL, newPerson)\r\n    //     .then(response => {\r\n    //         console.log('response?:', response)\r\n    //         return response\r\n    //    \r\n })\r\n}\r\n\r\nconst deletePerson = (person) => {\r\n    const request = axios.delete(`${baseURL}/${person.id}`)\r\n    return request.then(response => console.log(response))\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    return axios.put(`${baseURL}/${id}`, newPerson)\r\n        .then(response => {\r\n            return response.data\r\n        }).catch(error => {\r\n            console.log('fail', error.response)\r\n        })\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst NotificationSuccess = ({ successMessage }) => {\r\n    return (\r\n        successMessage\r\n            ?\r\n            <div className='success'>\r\n                {successMessage}\r\n            </div>\r\n            : null\r\n    )\r\n}\r\n\r\nexport default NotificationSuccess","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst NotificationError = ({ errorMessage }) => {\r\n    return (\r\n        errorMessage\r\n            ? \r\n            <div className='error'>\r\n                {errorMessage}\r\n            </div>\r\n            : \r\n            null\r\n    )\r\n}\r\n\r\nexport default NotificationError","import React, { useState, useEffect } from 'react'\nimport PersonsList from './components/PersonsList'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport personService from './services/personService'\nimport NotificationSuccess from './components/NotificationSuccess'\nimport NotificationError from './components/NotificationError'\n\n  //\"server\": \"json-server -p3001 db.json\" - poistin package.jsonista\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value)\n  }\n\n\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const checkPerson = (person) => person.name.toUpperCase() === newPerson.name.toUpperCase();\n\n    if (persons.some(checkPerson)) {\n      let id = persons.find(e => e.name.toUpperCase() === newPerson.name.toUpperCase()).id\n\n      if (window.confirm(`${newPerson.name} is already in your phonebook. Would you like to assign a new number to it?`)) {\n        personService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            if (returnedPerson !== undefined) {\n              setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n              setSuccessMessage(`${returnedPerson.name} was successfully updated!`)\n              setTimeout(() => {\n                setSuccessMessage(null)\n              }, 5000)\n              setNewName('');\n              setNewNumber('');\n            } else {\n              setErrorMessage(`Person ${newPerson.name} was already removed from the server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n              setPersons(persons.filter(e => e.id !== id))\n              setNewName('');\n              setNewNumber('');\n            }\n          })\n          .catch(error => {\n            console.log('error:', error)\n            setErrorMessage(`Person ${newPerson.name} was already removed from the server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            //setPersons(persons.filter(e => e.id !== id))\n            setNewName('');\n            setNewNumber('');\n          })\n      } else {\n        return null\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then(returnedPersons => {\n          console.log('persons:', returnedPersons)\n          setPersons(returnedPersons)\n          setSuccessMessage(`${newPerson.name} was successfully added to Phonebook!`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n          setNewName('');\n          setNewNumber('');\n        })\n    }\n\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .deletePerson(person)\n      let updatePersons = persons.filter(e => e.id !== person.id)\n      setPersons(updatePersons)\n      setSuccessMessage(`${person.name} was successfully erased from the Phonebook!`)\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NotificationError errorMessage={errorMessage} />\n      <NotificationSuccess successMessage={successMessage} />\n      <div>\n        <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      </div>\n      <h2>Add new contact</h2>\n      <Form\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n      />\n\n      <h2>Numbers</h2>\n      <PersonsList filter={filter} persons={persons} deletePerson={deletePerson} />\n    </div>\n  )\n\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}